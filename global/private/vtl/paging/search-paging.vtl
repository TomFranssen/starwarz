#macro (getCurrentPage $currentPage)	#set ($Int = 0)	#set ($currentPage = 1)	#if($UtilMethods.isSet($request.getParameter('page')))		#set ($currentPage = $Int.parseInt($request.getParameter('page')))	#end#end##if more page links are needed in the pager, the page links will shift (example: prev 3 4 5 6 next)#macro (printPaging $pagingItems $pageLinkUrl $pageSize $maxPageLinks $currentPage)		##init variables	#set ($Int = 0)	#set ($firstPageLinkNumber = 0)	#set ($lastPageLinkNumber = 0)	#set ($totalPages = $math.ceil($math.div($pagingItems.getTotalResults(), $pageSize)))		#if($pageLinkUrl.indexOf("?")>-1)		#set ($pageLinkUrlFormatted = $pageLinkUrl + "&page={page}")	#else		#set ($pageLinkUrlFormatted = $pageLinkUrl + "?page={page}")	#end	#if ($totalPages > $maxPageLinks)		##current page number will be placed in the middle of the pagenumber links		##calculate the position for the middle link in the pagelinks list		#set ($pageLinkFirstHalf = $math.toInteger($math.div($maxPageLinks,2))) 		#set ($pageLinkSecondHalf = $math.sub($maxPageLinks,$pageLinkFirstHalf)) 		#if ($currentPage <= $pageLinkFirstHalf)			##Page link is within first half: page links will start with 1			#set ($firstPageLinkNumber = 1) 			#set ($lastPageLinkNumber = $maxPageLinks)		##elseif ($math.sub($pagingItems.totalPages,$currentPage) < $pageLinkSecondHalf)		#elseif ($math.sub($totalPages,$currentPage) < $pageLinkSecondHalf)			##Page link is within last half: page links will start with 1			#set ($firstPageLinkNumber = $math.sub($math.add($totalPages,1),$maxPageLinks)) 			#set ($lastPageLinkNumber = $totalPages)		#else			##Page link is in middle: 			#set ($firstPageLinkNumber = $math.sub($currentPage,$pageLinkFirstHalf)) 			#set ($lastPageLinkNumber = $math.add($firstPageLinkNumber,$math.sub($maxPageLinks,1)))		#end	#else		#set ($firstPageLinkNumber = 1)		#set ($lastPageLinkNumber = $totalPages)	#end		#if ($totalPages > 1)		<ul class="pagination">			#if ($currentPage == 1)                <li class="disabled"><a>&laquo;</a></li>			#else			    <li><a href="$pageLinkUrlFormatted.replace('{page}',"$!math.sub($currentPage,1)")">&laquo;</a></li>			#end			#foreach($pageNumber in [$firstPageLinkNumber..$lastPageLinkNumber])				#if ($pageNumber == $currentPage)					<li class="active">				#else					<li>				#end					<a href="$pageLinkUrlFormatted.replace('{page}',"$!pageNumber")">$pageNumber</a>				</li>			#end			#if ($currentPage == $totalPages)                <li class="disabled"><a>&laquo;</a></li>            #else                <li><a href="$pageLinkUrlFormatted.replace('{page}',"$!math.add($currentPage,1)")">&raquo;</a></li>            #end		</ul>	#end#end